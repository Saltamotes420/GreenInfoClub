<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guía: Pálida (cannabis) — Primeros auxilios</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#7c3aed; --glass:rgba(255,255,255,0.04);
      --success:#10b981; --danger:#ef4444; --soft:#e6eef9;
      --radius:14px; --pad:16px;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#071022);color:var(--soft);-webkit-font-smoothing:antialiased}
    .app{max-width:820px;margin:20px auto;padding:18px}
    header{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#4f46e5);display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 8px 24px rgba(12,18,30,0.6)}
    h1{font-size:18px;margin:0}
    p.lead{margin:6px 0 18px;color:var(--muted);font-size:13px}

    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--radius);padding:var(--pad);box-shadow:0 6px 20px rgba(2,6,23,0.6);}

    .grid{display:grid;grid-template-columns:1fr;gap:12px}

    .section-title{display:flex;justify-content:space-between;align-items:center}

    .accordion{border-radius:12px;overflow:hidden}
    .acc-item{border-bottom:1px solid rgba(255,255,255,0.03);}
    .acc-button{display:flex;justify-content:space-between;align-items:center;padding:12px;background:transparent;border:0;width:100%;color:var(--soft);font-size:15px}
    .acc-button:focus{outline:2px solid rgba(124,58,237,0.18);}
    .acc-content{max-height:0;overflow:hidden;padding:0 12px;transition:max-height .32s ease,padding .28s}
    .acc-content.open{padding:12px;border-top:1px dashed rgba(255,255,255,0.03);}

    .pill{display:inline-block;background:var(--glass);padding:6px 10px;border-radius:999px;font-size:13px;color:var(--soft);}

    .row{display:flex;gap:10px;flex-wrap:wrap}
    .btn{appearance:none;border:0;padding:10px 12px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#5b21b6);color:white;font-weight:600;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
    .btn.warn{background:linear-gradient(90deg,#f59e0b,#f97316)}
    .btn.danger{background:linear-gradient(90deg,#ef4444,#dc2626)}

    .symptoms{display:flex;flex-direction:column;gap:8px}
    .symptom{display:flex;gap:10px;align-items:flex-start}
    .dot{width:12px;height:12px;border-radius:3px;background:var(--accent);box-shadow:0 3px 8px rgba(124,58,237,0.28)}
    small{color:var(--muted)}

    .checklist{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .check{display:flex;gap:8px;align-items:center}
    .check input{transform:scale(1.1)}

    footer{margin-top:16px;color:var(--muted);font-size:13px;text-align:center}

    /* responsive */
    @media(min-width:640px){.grid{grid-template-columns:1fr 360px}}

    /* subtle animations */
    .pulse{animation:pulse 2.8s infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}

    /* modal */
    .modal-back{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:60}
    .modal{width:92%;max-width:520px;background:linear-gradient(180deg,#071023,#07162b);padding:18px;border-radius:14px}

    .small{font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="app">
    <!-- Selector de idioma Google Translate -->
    <div id="lang-select" style="position:absolute;top:18px;right:24px;z-index:100;">
      <select onchange="googleTranslateElementInit(this.value)" style="padding:8px 14px;border-radius:8px;font-weight:600;background:#fff;color:#222;border:1px solid #ccc;">
        <option value="es">Español</option>
        <option value="en">English</option>
        <option value="fr">Français</option>
        <option value="de">Deutsch</option>
        <option value="it">Italiano</option>
      </select>
    </div>
    <script type="text/javascript">
    function googleTranslateElementInit(lang) {
      if (!window.googleTranslateScriptLoaded) {
        var gt = document.createElement('script');
        gt.type = 'text/javascript';
        gt.src = '//translate.google.com/translate_a/element.js?cb=initGoogleTranslate';
        document.body.appendChild(gt);
        window.googleTranslateScriptLoaded = true;
      }
      window.initGoogleTranslate = function() {
        new google.translate.TranslateElement({
          pageLanguage: 'es',
          includedLanguages: 'en,fr,de,it,es',
          autoDisplay: false,
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE
        }, 'google_translate_element');
        if(lang && lang !== 'es') {
          var select = document.querySelector('.goog-te-combo');
          if(select) select.value = lang;
          var event = document.createEvent('HTMLEvents');
          event.initEvent('change', true, true);
          select.dispatchEvent(event);
        }
      }
      if(lang && window.google && window.google.translate) {
        var select = document.querySelector('.goog-te-combo');
        if(select) select.value = lang;
        var event = document.createEvent('HTMLEvents');
        event.initEvent('change', true, true);
        select.dispatchEvent(event);
      }
    }
    </script>
    <div id="google_translate_element" style="display:none;"></div>

    <div style="width:100%;display:flex;align-items:center;gap:18px;margin-bottom:18px;">
      <button onclick="location.href='index.html'" style="background:var(--accent);color:#fff;padding:10px 18px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:1em;">Inicio</button>
      <header style="flex:1;">
        <div class="logo">pálida</div>
        <div>
          <h1>Guía rápida: "pálida" por cannabis</h1>
          <p class="lead">Botones interactivos, formato móvil. Abre cada sección para ver síntomas, causas y primeros auxilios.</p>
        </div>
      </header>
    </div>

    <main style="margin-top:12px">
      <div class="grid">

        <section class="card">
          <div class="section-title">
            <div>
              <div style="display:flex;gap:8px;align-items:center"><span class="pill">Urgente pero casi nunca peligrosa</span></div>
              <p class="small" style="margin-top:8px">Resumen corto: malestar agudo tras consumir cannabis (sobredosis relativa, mezcla con alcohol, o baja tolerancia).</p>
            </div>
            <div>
              <button class="btn" id="openAll">Abrir todo</button>
            </div>
          </div>

          <div style="margin-top:12px" class="accordion" id="accordion">

            <div class="acc-item">
              <button class="acc-button" data-idx="0">Síntomas <span class="small">(toca para ver)</span></button>
              <div class="acc-content" id="content-0">
                <div class="symptoms">
                  <div class="symptom"><div class="dot"></div><div><b>Palidez</b><div class="small">Cara pálida o blanqueada.</div></div></div>
                  <div class="symptom"><div class="dot"></div><div><b>Sudor frío</b><div class="small">Sudoración fría en la frente y manos.</div></div></div>
                  <div class="symptom"><div class="dot"></div><div><b>Mareos / debilidad</b><div class="small">Sensación de desmayo, inestabilidad.</div></div></div>
                  <div class="symptom"><div class="dot"></div><div><b>Náuseas / vómitos</b><div class="small">Posible malestar estomacal y vómito.</div></div></div>
                  <div class="symptom"><div class="dot"></div><div><b>Taquicardia o palpitaciones</b><div class="small">Corazón rápido o fuerte, sensación de ansiedad.</div></div></div>
                  <div class="symptom"><div class="dot"></div><div><b>Ansiedad / pánico</b><div class="small">Miedo extremo o pensamientos catastróficos.</div></div></div>
                </div>
              </div>
            </div>

            <div class="acc-item">
              <button class="acc-button" data-idx="1">Causas comunes <span class="small">(por qué ocurre)</span></button>
              <div class="acc-content" id="content-1">
                <ul style="margin:0;padding-left:18px;color:var(--muted)">
                  <li>Sobredosis relativa de THC (consumo excesivo para la tolerancia).</li>
                  <li>Mezcla con alcohol u otras sustancias que empeoran la sensación.</li>
                  <li>Estómago vacío o baja glucosa.</li>
                  <li>Hipotensión (bajada de la presión arterial) al ponerse de pie.</li>
                  <li>Consumidor novato o producto con alta concentración (edibles, concentrados).</li>
                </ul>
              </div>
            </div>

            <div class="acc-item">
              <button class="acc-button" data-idx="2">Primeros auxilios — Pasos prácticos</button>
              <div class="acc-content" id="content-2">
                <ol style="margin:0;padding-left:18px;color:var(--muted)">
                  <li><b>Mantén la calma</b>. Recuérdale a la persona que el efecto pasa con el tiempo.</li>
                  <li><b>Acostarse o sentarse</b> en posición segura; si hay mareo, recostarse y poner las piernas ligeramente elevadas para favorecer el retorno sanguíneo.</li>
                  <li><b>Hidratación</b>: agua o una bebida con azúcar (una bebida isotónica o un jugo pequeño) para ayudar a la glucosa.</li>
                  <li><b>Comer algo ligero</b>: una pieza de fruta, galletas o algo salado si tolera.</li>
                  <li><b>Respiración lenta</b>: inhalar 4 segundos — sostener 2 — exhalar 6 para reducir ansiedad.</li>
                  <li><b>Ambiente tranquilo</b>: luz baja, aire fresco y compañía calmada (no dejar sola a la persona si está muy alterada).</li>
                  <li><b>Evitar más sustancias</b>: no dar alcohol, benzodiacepinas u otros fármacos salvo indicación médica.</li>
                </ol>

                <div style="margin-top:10px" class="checklist">
                  <label class="check"><input type="checkbox" id="chkHyd"> He dado agua / bebida azucarada</label>
                  <label class="check"><input type="checkbox" id="chkSeat"> Persona está recostada/segura</label>
                  <label class="check"><input type="checkbox" id="chkCalm"> Entorno calmado</label>
                </div>

                <div style="margin-top:10px" class="row">
                  <button class="btn ghost" id="btnCalm">Frases para calmar</button>
                  <button class="btn warn" id="btnSugar">Sugerir bebida azucarada</button>
                </div>

              </div>
            </div>

            <div class="acc-item">
              <button class="acc-button" data-idx="3">Cuándo ir a urgencias</button>
              <div class="acc-content" id="content-3">
                <div class="small">
                  Ve a urgencias si se da cualquiera de estas situaciones:
                  <ul>
                    <li>Pérdida de la consciencia o convulsiones.</li>
                    <li>Vómitos persistentes que impiden hidratarse.</li>
                    <li>Síntomas cardíacos severos (dolor torácico, desmayo) o antecedentes cardíacos serios.</li>
                    <li>Incapacidad para respirar con normalidad.</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="acc-item">
              <button class="acc-button" data-idx="4">Prevención y consejos prácticos</button>
              <div class="acc-content" id="content-4">
                <ul style="margin:0;padding-left:18px;color:var(--muted)">
                  <li>Empieza con dosis bajas: espera suficiente tiempo (especialmente con comestibles — hasta 2 horas).</li>
                  <li>No mezcles con alcohol ni otras drogas.</li>
                  <li>Come algo antes de consumir y mantén agua cerca.</li>
                  <li>Consumir con gente de confianza y en un lugar seguro.</li>
                </ul>
              </div>
            </div>

          </div>

        </section>

        <aside class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
            <div>
              <div style="font-size:13px;color:var(--muted)">Guía rápida</div>
              <div style="font-weight:700;font-size:16px">Checklist de 60 segundos</div>
            </div>
            <div style="text-align:right">
              <div class="small">Estado</div>
              <div style="font-weight:700;color:var(--success)">No crítico</div>
            </div>
          </div>

          <div style="margin-top:12px">
            <ol style="padding-left:18px;color:var(--muted)">
              <li>Sentar/recuestar a la persona.</li>
              <li>Ofrecer agua o bebida azucarada.</li>
              <li>Comprobar respiración y pulso.</li>
              <li>Hablar en voz baja y calmada.</li>
            </ol>

            <div style="margin-top:12px" class="row">
              <button class="btn" id="copyChecklist">Copiar checklist</button>
              <button class="btn ghost" id="shareQuick">Compartir (texto)</button>
            </div>

            <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.04)" />

            <div class="small">¿Quieres una tarjeta para imprimir o enviar?</div>
            <div style="margin-top:8px" class="row">
              <button class="btn ghost" id="downloadHtml">Descargar .html</button>
              <button class="btn ghost" id="printCard">Imprimir</button>
            </div>
          </div>
        </aside>

      </div>

      <footer class="small card" style="margin-top:12px">Esta guía es informativa y no sustituye la evaluación médica. En caso de duda, consulta con servicios sanitarios.</footer>
    </main>
  </div>

  <!-- modal template -->
  <div id="modalRoot" style="display:none"></div>

  <script>
    // Accordion logic
    const accButtons = document.querySelectorAll('.acc-button');
    const contents = [...document.querySelectorAll('.acc-content')];

    accButtons.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const idx = Number(btn.dataset.idx);
        const elem = document.getElementById('content-'+idx);
        const isOpen = elem.classList.contains('open');
        // close all
        contents.forEach(c=>{c.classList.remove('open');c.style.maxHeight=0});
        if(!isOpen){
          elem.classList.add('open');
          elem.style.maxHeight = elem.scrollHeight + 'px';
        }
      })
    })

    // open all
    document.getElementById('openAll').addEventListener('click', ()=>{
      contents.forEach(c=>{c.classList.add('open');c.style.maxHeight = c.scrollHeight + 'px'});
    })

    // Buttons
    document.getElementById('btnCalm').addEventListener('click', ()=>{
      showModal('Frases para calmar', `Habla con voz baja y simple. Ejemplos:\n\n"Respira despacio conmigo, estás en un lugar seguro."\n"Esto pasa en unas horas, voy a quedarme contigo."\n"Toma un sorbo de agua cuando te sientas listo."`);
    })

    document.getElementById('btnSugar').addEventListener('click', ()=>{
      showModal('Bebidas sugeridas', `Ofrece:\n- Un vaso pequeño de jugo de naranja o manzana\n- Una bebida isotónica\n- Agua con una cucharadita de azúcar\nEvita bebidas con cafeína si la persona está muy ansiosa.`);
    })

    function showModal(title, text){
      const root = document.getElementById('modalRoot');
      root.innerHTML = `\n        <div class=\"modal-back\">\n          <div class=\"modal\">\n            <div style=\"display:flex;justify-content:space-between;align-items:center;gap:10px\">\n              <div><strong>${title}</strong><div class=\"small\" style=\"margin-top:6px;color:var(--muted)\">Información rápida</div></div>\n              <div><button class=\"btn ghost\" id=\"closeModal\">Cerrar</button></div>\n            </div>\n            <pre style=\"white-space:pre-wrap;margin-top:12px;color:var(--soft)\">${text}</pre>\n          </div>\n        </div>`;
      root.style.display = 'block';
      document.getElementById('closeModal').addEventListener('click', ()=>{root.style.display='none';root.innerHTML=''});
    }

    // copy checklist
    document.getElementById('copyChecklist').addEventListener('click', async ()=>{
      const txt = `Checklist pálida: 1) Sentar/recuestar a la persona. 2) Ofrecer agua o bebida azucarada. 3) Comprobar respiración y pulso. 4) Hablar en voz baja y calmada.`;
      try{ await navigator.clipboard.writeText(txt); alert('Checklist copiada al portapapeles'); }catch(e){ alert('No se pudo copiar. Usa seleccionar y copiar.'); }
    })

    // share quick
    document.getElementById('shareQuick').addEventListener('click', ()=>{
      const txt = `Checklist pálida:\n- Sentar o recostar a la persona\n- Ofrecer agua o jugo\n- Mantenerla en calma y bajo observación\n- Ir a urgencias si pierde la consciencia o empeora`;
      if(navigator.share){ navigator.share({title:'Checklist pálida',text:txt}).catch(()=>{}); }
      else{ prompt('Texto para compartir (copiar):', txt); }
    })

    // download html (creates blob of current document)
    document.getElementById('downloadHtml').addEventListener('click', ()=>{
      const blob = new Blob([document.documentElement.outerHTML], {type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'guia-palida-cannabis.html'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    })

    document.getElementById('printCard').addEventListener('click', ()=>{ window.print(); });

    // simple accessibility: open first on load
    window.addEventListener('load', ()=>{document.querySelector('.acc-button').click()});
  </script>
</body>
</html>
